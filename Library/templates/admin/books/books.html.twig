{% extends 'base.html.twig' %}
{% block body %}

        <div class=" container table-responsive">
                <h2 style="margin-top: 20px;">Books Mangement</h2>
                <table class="table table-striped table-sm">
                <thead>
                    <tr>
                    <th scope="col">#</th>
                    <th scope="col">title</th>
                    <th scope="col">author</th>
                    <th scope="col">Category</th>
                    <th scope="col">Users</th>
                    </tr>
                </thead>
                <tbody>
                    {% for book in books %} 
                        <tr>
                            <td>{{loop.index}}</td>
                            <td>{{book.title}}</td>
                            <td>{{book.author}}</td>       
                            <td>{{book.category.name}}</td>
                            <td>
                                {% for each in book.users %}
                                    {{each.username}} <br>
                                {% endfor %}
                            </td>
                            
                            <td><a class="btn btn-danger" href="{{path('delete_book',{'id':book.id})}}">delete</a>&nbsp;<a class="btn btn-info" href="{{  path('edit_book',{'id': book.id})   }}">edit</a></td>
                        </tr>
                        {% endfor %}
                </tbody>
                </table>
                <div>
                    <a href="{{path('books_add')}}" > <button class="btn btn-info">Add book</button></a>
                    <a href="{{path('add_category')}}" > <button class="btn btn-success">Add category</button></a>
                </div>
            </div>

      {%  endblock  %}